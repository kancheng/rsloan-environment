# OS: Ubuntu 14.04.5 LTS trusty

sudo passwd root

sudo apt-get install vim git -y

# rws by R Work
# prj by git

mkdir ~/rws
mkdir ~/prj


# R

sudo sh -c 'echo "deb http://cran.csie.ntu.edu.tw/bin/linux/ubuntu trusty/" >> /etc/apt/sources.list'
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9
sudo apt-get update
sudo apt-get install -y r-base libcurl4-openssl-dev libxml2-dev espeak

# R Shiny Server

sudo apt-get install -y gdebi-core
wget http://download3.rstudio.org/ubuntu-12.04/x86_64/shiny-server-1.3.0.403-amd64.deb
sudo gdebi shiny-server-1.3.0.403-amd64.deb

# localhost:3838

# Edit R File by Shiny Server
# We can change /usr/lib/R/etc/Renviron to set it as the default one by commentting the line: 
# **R_LIBS_USER=${R_LIBS_USER-‘~/R/x86_64-pc-linux-gnu-library/3.2’} **
# Reference
# http://withr.me/set-up-shiny-server-on-ubuntu-16.04/
#

sudo vim /usr/lib/R/etc/Renviron

# check the default library path in R:

sudo su - -c "R -e \".libPaths()\""


# Install the Shiny R package

sudo su - -c "R -e \"install.packages('shiny', repos='http://cran.rstudio.com/')\""

# R package install several dependencies or environment

sudo apt-get install -y libcurl4-openssl-dev  libssl-dev libxml2-dev libcairo-dev

sudo apt-get install -y default-jdk
export LD_LIBRARY_PATH=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/server/
sudo R CMD javareconf 

sudo chmod 777 /usr/local/lib/R/site-library

# R Studio Server
# https://www.rstudio.com/products/rstudio/download/

sudo apt-get install gdebi-core -y
wget https://download2.rstudio.org/rstudio-server-1.0.136-amd64.deb
sudo gdebi rstudio-server-1.0.136-amd64.deb

# localhost:8787

# R Studio Desktop
# https://www.rstudio.com/products/rstudio/download/

# use R File Edit
# run rfile pbpkgs.R
# Edit R Rprofile.site






